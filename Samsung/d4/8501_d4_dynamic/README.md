# 8501. 은비의 동전 뒤집기

[링크](https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AWz50CHK8DgDFARQ)

난이도\_d4_47%

## 정리

내 코드 : 11 ms;
빠른 코드 : 6 ms;

문제의 일반항

```cpp
a(n) = n * a(n-1) + (n/2) * (n-1)!
```

여기서 n/2에서의 정수부분만 취한다.
여기서 현재 n번째 값을 구할 때 이전 값을 이용하므로, 메모이제이션을 이용해 풀이.

### 일반항에 대한 설명

N = 2 일 때를 보자

| 동전 순서 | 앞뒤상태 |
| --------- | -------- |
| 12        | XO       |
| 21        | XX       |

N = 3 일 때를 보자

| 동전 순서 | 앞뒤상태 |
| --------- | -------- |
| 123       | XOX      |
| 132       | XOO      |
| 213       | XXO      |
| 231       | XXX      |
| 312       | XXO      |
| 321       | XXX      |

총 여섯가지 경우가 생긴다.
이 중에 12X, 1X2, X12 의 경우는 N=2일 때와 동일하다.
따라서 132의 경우를 제외하면 n * a(n-1) 의 경우의 수를 이미 갖고 시작한다.
