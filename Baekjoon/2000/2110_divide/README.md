# 2110. 공유기 설치

[링크](https://www.acmicpc.net/problem/2110)

|  난이도   | 정답률(\_%) |
| :-------: | :---------: |
| Silver II |   47.177    |

## 설계

### 시간 복잡도

집의 개수 N은 200,000, 집의 좌표는 1,000,000,000 이하의 자연수이다.

공유기의 거리는 집의 좌표에 따라 영향을 받는다. 집의 좌표는 매우 크므로 이를 N번으로 수행하면 제한시간 내에 불가능하다.

따라서 이를 logN번으로 탐색한다.

```cpp
N * logM = 200,000 * log(1,000,000,000) = 6,000,000
```

이는 제한 시간 2초 내에 충분하다.

### 공간 복잡도

정답은 좌표의 크기에 영향을 받으며, 이는 최대 1,000,000,000 이하의 자연수이다

따라서 모두 int형으로 선언해도 충분하다.

### 설치 확인

특정 거리에서 공유기를 설치 했을 때, 최소 몇대가 필요한지 구한다.

가장 인접한 두 공유기 사이의 거리를 가능한 크게 하여 설치해야 하기 때문에,

맨 처음 집에 와이파이를 설치 해야 가능한 공유기 사이의 거리가 가장 크게 설치할 수 있다.

이는 N번만에 확인이 가능하며 내부 분기처리는 다음과 같다.

- 첫번째 집에 wifi 설치
- 집들을 순회하며 현재 설치된 집에서 연결 가능한지 (거리로 비교) 확인
  - 연결 가능한 경우 continue
  - 연결 불가능한 경우 현재 방문한 집에 wifi 설치

```cpp
int setWifi(int distance) {
  int wifi_count = 1;
  int start = xs[0];

  for (int index = 1; index < xs.size(); index++) {
    if (distance <= xs[index] - start) {
      start = xs[index];
      wifi_count += 1;
    }
  }

  return wifi_count;
}
```

### 이분 탐색

거리의 범위가 매우 크므로 거리를 이분 탐색 한다.

먼저 입력받은 집들은 wifi 갯수를 판단하기 위해 오름차순으로 정렬되어야 한다.

또한 입력받은 집들의 위치 들로 가능한 최대 범위를 산출할 때 다음과 같다.

1 ~ 처음과 마지막 집의 거리

따라서 위 범위로 wifi의 거리를 두고 계산한다.

```cpp
int start = 1, end = xs.back() - xs.front();
while (start <= end) {
  int mid = (start + end) / 2;
  int count = setWifi(mid);

  if (count < C) {
    end = mid - 1;
  } else {
    answer = mid;
    start = mid + 1;
  }
}
```

start와 end를 갱신할 때 다음에 유의한다

- start = mid + 1
- end = mid - 1

위 경우 count == C 일 때 start를 갱신하므로, 갱신하기 전 start를 정답에 저장해둔다

## 정리

| 내 코드 (ms) | 빠른 코드 (ms) |
| :----------: | :------------: |
|      16      |       8        |

## 고생한 점
