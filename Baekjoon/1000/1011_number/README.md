# 1011. Fly me to the Alpha Centauri

[링크](https://www.acmicpc.net/problem/1011)

|  난이도  | 정답률(\_%) |
| :------: | :---------: |
| Silver I |   28.204    |

## 설계

### 시간복잡도

위 문제의 풀이법은 다음과 같다.

1. 제곱의 성질을 이용해 풀이
2. 증가하는 수열을 이용해 풀이

제곱의 성질을 이용하는 경우 2^31 의 루트는 대략 46340 이므로 O(46341) 이내에 연산이 끝난다.

증가하는 수열을 이용해 풀이할 경우, 이 문제에선 제곱의 성질을 이용한 방법에서 2배 정도의 시간이 걸린다.

이는 아래 증가하는 수열을 이용한 방법을 설명한 부분을 참고한다.

### 자료구조

입력받는 좌표의 크기가 2^31 까지이므로 long long 형을 이용한다.

### 예시 데이터

두 좌표에서 떨어진 길이가 다음과 같다고 할 때 사용한 공간이동의 수는 다음과 같다.

```cpp
1 : 1   // 1^2
2 : 2
3 : 3
4 : 3   // 2^2
5 : 4
6 : 4
7 : 5
8 : 5
9 : 5   // 3^2
10 : 6
11 : 6
12 : 6
13 : 7
14 : 7
15 : 7
16 : 7  // 4^2
17 : 8
```

### 제곱의 성질을 이용

위 예시 데이터를 보면 떨어진 길이가 N의 제곱수 일때, 사용한 공간이동의 수는 다음과 같음을 알 수 있다.

```cpp
N^2 : N*2 - 1
```

그리고 (N-1)^2 ~ N^2 사이에서 공간이동의 수가 한번 바뀌는 경우가 존재하는데 이는 구간의 중앙점 부근에서 바뀜을 알 수 있다.

떨어진 길이가 A, 두 좌표의 중점 C를 N^2 - (N-1)^2 / 2 라고 할 때

- A > C 인 경우 공간이동의 수는 N X 2 - 1
- A <= C 인 경우 N X 2 - 1 - 2

### 수열의 성질을 이용

위 예시 데이터를 보면 공간이동의 수가 증가할 때의 떨어진 길이의 수열은 다음과 같다.

```cpp
1 2 3 5 7 10 13 17 ...
```

위 수열을 살펴볼 경우 다음과 같이 증가한다는 규칙을 발견할 수 있다.

```cpp
+1 +1 +2 +2 +3 +3 +4 ...
```

따라서 위 성질을 이용해 현재 떨어진 길이가 어느 구간에 속하는지 알아낼 수 있다.

증가하는 수가 2번 반복되므로 이를 구현하기 위해 flag를 이용한다.

- flag는 0, 1 두가지만 갖는 변수
- flag가 0일때 만 count를 증가
- 계속 반복하며 flag를 toggle함

## 정리

| 내 코드 (ms) | 빠른 코드 (ms) |
| :----------: | :------------: |
|      0       |       0        |

## 고생한 점

수열 문제의 경우 예시 데이터를 충분할 만큼 써 놓고 규칙을 찾는 편이 수월하다.
