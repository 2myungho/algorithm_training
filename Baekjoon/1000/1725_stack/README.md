# 1725. 히스토그램

[링크](https://www.acmicpc.net/problem/1725)

|   난이도   | 정답률(\_%) |
| :--------: | :---------: |
| Platinum V |   38.661    |

## 설계

### 시간 복잡도

막대의 개수 N은 최대 100,000개 까지이다.

N log(N)의 시간 복잡도 이내로 해결해야 하기 때문에 브루트 포스 방법은 불가능하다.

stack의 성질을 이용해 O(N)번 안에 풀이한다.

### 공간 복잡도

정답은 20억까지일 수 있으므로 int형으로 선언해도 된다. long long형으로 선언한다.

### 스택

현재 인덱스( i ) 이전의 도형의 높이 중에 (i-1) ~ (0) 최고 넓이가 나오는 것을 찾는 것이 핵심이다.

높이를 오름차순으로 스택에 쌓는다.

이 경우 왼쪽으로부터 오른쪽 방향으로 스택에 쌓을 수 있는 경우만 고려하면 된다.

즉 스택 안의 오른쪽 끝 막대 기준으로, 왼쪽에 있는 모든 막대는 오른쪽 끝 보다 작음이 보장되기 때문이다.

스택에는 너비를 구하는 과정에 필요한 index를 저장한다.

매번 스택에는 현재 index까지의 과정 중 가장 작은 높이의 막대를 갱신하며,

만약 현재 index번째의 높이가 스택의 top보다 작은 경우, stack을 pop하며 그때까지의 정답을 갱신한다.

```cpp
for (int i = 0; i <= N; i++) {
  while (!s.empty() && histograms[s.top()] > histograms[i]) {
    long long top = s.top();
    s.pop();

    int width = s.empty() ? i : i - s.top() - 1;

    answer = max(answer, histograms[top] * width);
  }
  s.push(i);
}
```

## 정리

| 내 코드 (ms) | 빠른 코드 (ms) |
| :----------: | :------------: |
|      12      |       0        |

## 고생한 점
